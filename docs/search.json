[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "Dummy blog post TWO\n\n\n\n\n\nSome dummy blog post for pages config\n\n\n\n\n\n1 min\n\n\n\n\n\n\n\nFigures layout\n\n\n\n\n\n\nR\n\n\ntmap\n\n\n\nLayout des figures dans les articles avec Quarto.\n\n\n\n\n\nMar 10, 2025\n\n\nMarie Gradeler\n\n\n1 min\n\n\n\n\n\n\n\nDummy blog post\n\n\n\n\n\n\nR\n\n\ndataviz\n\n\n\nSome dummy blog post for pages config\n\n\n\n\n\nOct 10, 2024\n\n\nMarie Gradeler\n\n\n1 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/maps_package.html",
    "href": "posts/maps_package.html",
    "title": "Figures layout",
    "section": "",
    "text": "Classique, on nâ€™ajoute rien.\n\n\n\n\n\n\n\n\n\nOn utilise plus dâ€™espace pour afficher une figure en plus large.\n\n\n\n\n\n\n\n\n\nOn peut aussi afficher les figures dans la marge, il semblerait."
  },
  {
    "objectID": "posts/maps_package.html#test-des-layouts",
    "href": "posts/maps_package.html#test-des-layouts",
    "title": "Figures layout",
    "section": "",
    "text": "Classique, on nâ€™ajoute rien.\n\n\n\n\n\n\n\n\n\nOn utilise plus dâ€™espace pour afficher une figure en plus large.\n\n\n\n\n\n\n\n\n\nOn peut aussi afficher les figures dans la marge, il semblerait."
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#sommaire",
    "href": "cours/geonum/slides_serveurs_carto.html#sommaire",
    "title": "Serveurs Cartographiques",
    "section": "Sommaire",
    "text": "Sommaire\n\nQuâ€™est-ce quâ€™un serveur cartoÂ ?\nLes standards OGC\nPourquoi utiliser un serveur cartoÂ ?\nExemples de serveurs carto\nGeoServer\nTP - Mise en pratique"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto",
    "href": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto",
    "title": "Serveurs Cartographiques",
    "section": "Quâ€™est-ce quâ€™un serveur cartoÂ ?",
    "text": "Quâ€™est-ce quâ€™un serveur cartoÂ ?\nRappels sur ce quâ€™est un serveur\nLe serveur matÃ©riel (hardware) : Une ou plusieurs machines physiques reliÃ©es entre elles et et sur lesquelles fonctionnent un ou plusieurs logiciels.\nSourceÂ : Ionos\nDans ce TP, notre serveur physique sera notre ordinateur. En pratique, cela ressemble plus souvent Ã  Ã§a (serveurs WikiMedia foundation)Â :"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-1",
    "href": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-1",
    "title": "Serveurs Cartographiques",
    "section": "Quâ€™est-ce quâ€™un serveur cartoÂ ?",
    "text": "Quâ€™est-ce quâ€™un serveur cartoÂ ?\nRappels sur ce quâ€™est un serveur\nLe serveur (software) : Un programme effectuant des interactions en rÃ©seau avec dâ€™autres programmes appelÃ©s logiciels clients. Le service apportÃ© dÃ©pend du logiciel serveur.\nSourceÂ : Ionos\nUn logiciel serveur peut-Ãªtre un serveur Web (Apache, Nginx), un serveur email, un serveur de bases de donnÃ©es (PostgreSQL), un serveur cartographique (GeoServer), etc. Un logiciel client est par exemple un navigateur internet pour afficher un site web (Firefox, Google Chrome), un client mail (Thunderbird), et plus gÃ©nÃ©ralement une machine cliente."
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-2",
    "href": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-2",
    "title": "Serveurs Cartographiques",
    "section": "Quâ€™est-ce quâ€™un serveur cartoÂ ?",
    "text": "Quâ€™est-ce quâ€™un serveur cartoÂ ?\nComment le serveur communique-t-il avec les clientsÂ ?\nDans le cas des serveurs web et cartographiques, le client (par exemple notre Firefox) va envoyer des requÃªtes au serveur (par exemple GeoServer). Le serveur va lire la requÃªte et renvoyer une rÃ©ponse. Cette rÃ©ponse peut-Ãªtre une page web, un JSON, un flux cartographique, mais aussi un message dâ€™erreur comme le fameux 404 not found.\n\nSource : codegym.cc"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-3",
    "href": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-3",
    "title": "Serveurs Cartographiques",
    "section": "Quâ€™est-ce quâ€™un serveur cartoÂ ?",
    "text": "Quâ€™est-ce quâ€™un serveur cartoÂ ?\nComment le serveur communique-t-il avec la source de donnÃ©eÂ ?\nEn rÃ©alitÃ©, la plupart des applications fonctionnent de la maniÃ¨re suivanteÂ : le client envoie des requÃªtes au serveur. Le serveur va communiquer avec la base de donnÃ©es, traiter le rÃ©sultat et renvoyer une rÃ©ponse au client.\nExempleÂ :\n- Client = mon application Firefox\n- Serveur = les serveurs de Google\n- Database = la base de donnÃ©es de Google\n- RequÃªte = cherche les sites qui correspondent Ã  la requÃªte â€œapprendre le JavaScriptâ€\n- RÃ©ponse = liste des sites qui correspondent Ã  la requÃªte â€œapprendre le JavaScriptâ€\n\nSourceÂ : codegym.cc"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-4",
    "href": "cours/geonum/slides_serveurs_carto.html#quest-ce-quun-serveur-carto-4",
    "title": "Serveurs Cartographiques",
    "section": "Quâ€™est-ce quâ€™un serveur cartoÂ ?",
    "text": "Quâ€™est-ce quâ€™un serveur cartoÂ ?\nLa spÃ©cificitÃ© du serveur carto\nUn serveur cartographique va servir - sans surprise - de la donnÃ©e cartographique sous forme de vecteur ou de raster, tuilÃ©e ou non. Il le fait selon des standards OGC bien dÃ©finis comme le WMS (Web Map Service) et le WFS (Web Feature Service) qui vont dÃ©finir la structure de la donnÃ©e rÃ©cupÃ©rÃ©e et les interactions possibles avec cette couche de dâ€˜information.\n\n\n\nSource : hansongis.com/blog/"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc",
    "href": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc",
    "title": "Serveurs Cartographiques",
    "section": "Les standards OGC",
    "text": "Les standards OGC\nLes spÃ©cifications OGC suivantes dÃ©finissent ce quâ€™on appelle des interfaces (ou API) pour requÃªter des cartes gÃ©orÃ©fÃ©rencÃ©es dâ€™un serveur.\nPas de panique - â€œinterfaceâ€ est un joli mot pour expliquer comment on doit structurer notre requÃªte et ce quâ€™on recevra en rÃ©ponse. Par exemple, quand on commande une glace, on sait quâ€™il faut indiquer pot ou cornet, le nombre de boules et le parfum de chacune. En Ã©change, on obtiendra une glace bien structurÃ©e, prÃªte Ã  Ãªtre dÃ©gustÃ©e. Si on veut beaucoup simplifier, lâ€™interface fait le lien entre ce que le client aimerait et ce que le cuisinier peut lui donner en encadrant la question posÃ©e par le client et les rÃ©ponses possibles du cuisinier.\nSource : Documentation GeoServer"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-1",
    "href": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-1",
    "title": "Serveurs Cartographiques",
    "section": "Les standards OGC",
    "text": "Les standards OGC\nWeb Map Service (WMS)\n\nLa spÃ©cification WMS fournit une interface standard pour requÃªter une image gÃ©orÃ©fÃ©rencÃ©e et sa lÃ©gende. Le client reÃ§oit une image gÃ©orÃ©fÃ©rencÃ©e.\nCâ€™est le plus couramment utilisÃ© car il est plus rapide que le WFS lorsquâ€™il sâ€™agit de reprÃ©senter beaucoup dâ€™Ã©lÃ©ments.\nLa requÃªte GetMap permet de rÃ©cupÃ©rer une carte.\nLa requÃªte GetFeatureInfo permet de rÃ©cupÃ©rer la gÃ©omÃ©trie et les valeurs dâ€™un pixel.\nLa requÃªte GetLegendGraphic permet de rÃ©cupÃ©rer la lÃ©gende.\n\nSource : GeoServer WMS reference - Source : QGISserver WMS reference"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-2",
    "href": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-2",
    "title": "Serveurs Cartographiques",
    "section": "Les standards OGC",
    "text": "Les standards OGC\nWeb Feature Service (WFS)\n\nLa spÃ©cification WFS fournit une interface standard pour crÃ©er, modifier et requÃªter de lâ€™information gÃ©ographique au format vecteur. Le client reÃ§oit de la donnÃ©e au format GML.\nCâ€™est celui quâ€™il faut utiliser dans le cas de la manipulation de vecteurs (pour les requÃªtes attributaires, le WMS suffit).\nLa requÃªte GetFeature retourne une sÃ©lection de features avec leur gÃ©omÃ©trie et la valeur de leurs attributs.\nLa requÃªte Transaction permet dâ€™Ã©diter une feature existante en utilisant â€œcreateâ€, â€œupdateâ€ ou â€œdeleteâ€.\n\nSource : GeoServer WFS reference - Source : QGISserver WFS reference"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-3",
    "href": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-3",
    "title": "Serveurs Cartographiques",
    "section": "Les standards OGC",
    "text": "Les standards OGC\nWeb Coverage Service (WCS)\n\nLa spÃ©cification WCS fournit une interface pour accÃ©der Ã  de la donnÃ©e raster. On peut le voir comme le WMS pour du raster.\nLa requÃªte DescribeCoverage retourne un document XML qui dÃ©crit la couverture du pixel sÃ©lectionnÃ©.\nLa requÃªte GetCoverage retourne un rÃ©sultat similaire Ã  la requÃªte GetMap du flux WMS mais avec des extensions additionnelles pour supporter la rÃ©cupÃ©ration de donnÃ©es raster.\n\nSource : GeoServer WCS reference - Source : QGISserver WCS reference"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-4",
    "href": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-4",
    "title": "Serveurs Cartographiques",
    "section": "Les standards OGC",
    "text": "Les standards OGC\nWeb Map Tile Service (WMTS)\n\nLa spÃ©cification WMTS fournit une interface pour requÃªter des images tuilÃ©es. Il sâ€™agit plus ou moins de la mÃªme chose que WMS mais qui permet dâ€™utiliser des couches tuilÃ©es.\nLa requÃªte GetTile retourne une tuile.\nLa requÃªte GetFeatureInfo permet de rÃ©cupÃ©rer la gÃ©omÃ©trie et les valeurs dâ€™un pixel (comme dans le cas du flux WMS).\n\nSource : QGISserver WMTS reference"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-5",
    "href": "cours/geonum/slides_serveurs_carto.html#les-standards-ogc-5",
    "title": "Serveurs Cartographiques",
    "section": "Les standards OGC",
    "text": "Les standards OGC\nDans ce TP, nous allons utiliser les flux les plus communs, WMS puis WFS."
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#pourquoi-utiliser-un-serveur-carto",
    "href": "cours/geonum/slides_serveurs_carto.html#pourquoi-utiliser-un-serveur-carto",
    "title": "Serveurs Cartographiques",
    "section": "Pourquoi utiliser un serveur carto",
    "text": "Pourquoi utiliser un serveur carto\n\nPermet de rester Ã  jour - quand la donnÃ©e est mise Ã  jour sur le serveur, toutes les applications clientes (comme une application Leaflet ou OpenLayers (OL)) rÃ©cupÃ¨rent aussi la donnÃ©e Ã  jour. Câ€™est pratique quand on a une IDG.\nPermet de servir de la donnÃ©e depuis une base de donnÃ©es PostgreSQL. Au lieu de requÃªter la donnÃ©e en SQL, de lâ€™exporter en JSON et de lâ€™importer dans lâ€™application Leaflet/OL, et de refaire Ã§a Ã  chaque fois que la donnÃ©e change, on peut simplement utiliser GeoServer pour gÃ©nÃ©rer une couche Ã  partir de SQL.\nPermet de gÃ©rer et communiquer les mÃ©tadonnÃ©es. GeoServer permet par exemple dâ€™uploader des fiches de mÃ©tadonnÃ©es pour chaque couche quâ€™il Ã©met.\nLes serveurs cartographiques sont au cÅ“ur des IDG, il faut donc savoir les utiliser. Par exemple, geOrchestra propose GeoServer comme module de serveur cartographique."
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#pourquoi-utiliser-un-serveur-carto-1",
    "href": "cours/geonum/slides_serveurs_carto.html#pourquoi-utiliser-un-serveur-carto-1",
    "title": "Serveurs Cartographiques",
    "section": "Pourquoi utiliser un serveur carto",
    "text": "Pourquoi utiliser un serveur carto\nEn rÃ©sumÃ©\nOn peut se passer dâ€™un serveur cartographique quand on a â€œjusteâ€ quelques features en JSON Ã  afficher. DÃ¨s quâ€™on commence Ã  avoir des couches souvent mises Ã  jour, besoin dâ€™accÃ©der aux mÃ©tadonnÃ©es, de plus nombreuses couches, dâ€™importer des couches stylisÃ©es dans QGIS, de crÃ©er des couches Ã  partir dâ€™une base de donnÃ©es PostgreSQLâ€¦ dans ce cas lâ€™utilisation dâ€™un serveur cartographique nous facilite grandement la vie.\n\nExemple 1 : data.grandlyon.com qui permet de lire directement ses couches de donnÃ©es en passant par son API.\nExemple 2 : les fonds de carte OMS (WMS)"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#exemples-de-serveurs-cartographiques",
    "href": "cours/geonum/slides_serveurs_carto.html#exemples-de-serveurs-cartographiques",
    "title": "Serveurs Cartographiques",
    "section": "Exemples de serveurs cartographiques",
    "text": "Exemples de serveurs cartographiques\nMapServer\nLien vers MapServer\nPlateforme Open Source pour la publication de donnÃ©e gÃ©ospatiale. (Jâ€™ai peu de choses Ã  dire dessus, je ne lâ€™ai jamais utilisÃ©e).\nMapServer continue Ã  exister dans les organisations qui sâ€™en servent dÃ©jÃ  mais ce nâ€™est plus forcÃ©ment la solution la plus populaire lorsquâ€™il faut partir de zÃ©ro."
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#exemples-de-serveurs-cartographiques-1",
    "href": "cours/geonum/slides_serveurs_carto.html#exemples-de-serveurs-cartographiques-1",
    "title": "Serveurs Cartographiques",
    "section": "Exemples de serveurs cartographiques",
    "text": "Exemples de serveurs cartographiques\nGeoServer\nLien vers GeoServer\nServeur Java gratuit et Open Source qui permet aux utilisateurs de visualiser et Ã©diter de la donnÃ©e gÃ©ospatiale. La librairie OpenLayers est intÃ©grÃ©e Ã  GeoServer pour gÃ©nÃ©rer rapidement des cartes. Les capacitÃ©s du serveur peuvent Ãªtre Ã©tendues via lâ€™installation dâ€™extensions divserses.\nGeoServer est le plus simple Ã  dÃ©ployer. Il peut aussi directement se connecter avec des bases de donnÃ©es comme PostgreSQL - lâ€™Ã©quipe le dÃ©crit comme Ã©tant â€œdesignÃ© pour lâ€™interopÃ©rabilitÃ©â€. GeoServer est assez complexe Ã  configurer mais le plus adaptable aux besoins utilisateur, notamment grÃ¢ce Ã  la gestion fine des droits utilisateurs et lâ€™utilisation de plugins pour enrichir les possibilitÃ©s."
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#exemples-de-serveurs-cartographiques-2",
    "href": "cours/geonum/slides_serveurs_carto.html#exemples-de-serveurs-cartographiques-2",
    "title": "Serveurs Cartographiques",
    "section": "Exemples de serveurs cartographiques",
    "text": "Exemples de serveurs cartographiques\nQGIS Server\nLien vers QGIS Server Guide Manual\nAPI gratuite et Open Source qui permet aussi dâ€™implanter des Ã©lÃ©ments cartographiques avancÃ©s pour crÃ©er des cartes thÃ©matiques. Elle fonctionne avec un serveur web (Apache ou Nginx).\nQGIS Server est plus difficile Ã  mettre en place (on utilisera une application tierce comme LizMap) mais est le plus compatible avec la publication de projets via QGIS. Câ€™est la meilleure solution pour publier rapidement un projet QGIS. On le prÃ©sentera rapidement dans un des TP."
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#geoserver---introduction",
    "href": "cours/geonum/slides_serveurs_carto.html#geoserver---introduction",
    "title": "Serveurs Cartographiques",
    "section": "GeoServer - Introduction",
    "text": "GeoServer - Introduction\n\nGeoServer est un serveur Open Source Ã©crit en Java qui permet aux utilisateurs de partager et Ã©diter de la donnÃ©e gÃ©ospatiale.\nIl a Ã©tÃ© designÃ© pour maximisÃ© son interopÃ©rabilitÃ©, permettant de publier de la donnÃ©e des sources de donnÃ©es les plus courantes en utilisant des standards ouverts.\nGeoServer est un projet dÃ©veloppÃ©, testÃ© et soutenu par sa communautÃ© - comme dans le cas de QGIS.\nGeoServer est une rÃ©fÃ©rence dans lâ€™implementation des standards WFS, WMS et WCS de lâ€™OGC.\n\n\nSource : hansongis.com/blog/Source : GeoServer Overview"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#geoserver---introduction-1",
    "href": "cours/geonum/slides_serveurs_carto.html#geoserver---introduction-1",
    "title": "Serveurs Cartographiques",
    "section": "GeoServer - Introduction",
    "text": "GeoServer - Introduction\n\nLe projet a dÃ©butÃ© en 2001 avec le Open Planning Project (TOPP), un organisme Ã  but non lucratif basÃ© Ã  New York et qui a crÃ©Ã© une suite dâ€™outils pour promouvoir la transparence de la donnÃ©e. Leur premier outil, GeoServer, avait pour objectif de permettre aux citoyens dâ€™accÃ©der aux documents de planification urbaine du gouvernement en partageant la donnÃ©e spatiale.\nAvec le temps, le projet GeoTools a Ã©tÃ© ajoutÃ© avec la possibilitÃ© de supporter les Shapefiles, les bases de donnÃ©es Oracle, etc.\nDâ€™autres projets ouverts ont continuÃ© Ã  enrichir GeoServer et ses fonctionnalitÃ©s comme le dÃ©veloppement de PostGIS (par Refractions Reseach) qui a permis de connecter GeoServer Ã  une base de donnÃ©es gratuite (PostgreSQL).\nLicence : la GNU General Public License, mais contient aussi des logiciels Apache donc dÃ©pend de la Apache Software Foundation ainsi que le la Eclipse Public License, qui sont toutes trÃ¨s permissives.\n\nSource : GeoServer Overview"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#geoserver---avantages-et-inconvÃ©nients",
    "href": "cours/geonum/slides_serveurs_carto.html#geoserver---avantages-et-inconvÃ©nients",
    "title": "Serveurs Cartographiques",
    "section": "GeoServer - avantages et inconvÃ©nients",
    "text": "GeoServer - avantages et inconvÃ©nients\nAvantages\n\nSolution trÃ¨s bien documentÃ©e\nNombreux plugins qui sont bien maintenus\nPeut lire de multiple sources de donnÃ©es (shapefile, geopackage, connexion Ã  une base PostgreSQL)\nOutil activement maintenu et communautÃ© rÃ©active\nPas difficile Ã  dÃ©ployer (comparÃ© Ã  dâ€™autres)\nDocumentation riche\nUn outil en tout bien solide sur le long terme"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#geoserver---avantages-et-inconvÃ©nients-1",
    "href": "cours/geonum/slides_serveurs_carto.html#geoserver---avantages-et-inconvÃ©nients-1",
    "title": "Serveurs Cartographiques",
    "section": "GeoServer - avantages et inconvÃ©nients",
    "text": "GeoServer - avantages et inconvÃ©nients\nInconvÃ©nients\n\nDifficile Ã  prendre en main au dÃ©but (gestion des droits, diffÃ©rencier les couches et les dÃ©pÃ´ts, etc.)\nLâ€™interface est un peu vieille et pas super intuitive\nLa grande majoritÃ© des ressources est uniquement disponible en anglais (mais Ã§a ne devrait pas vous faire trop peur !)\nVous allez parfois vous arracher les cheveux sur des fichiers de style complexes"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#geoserver---comment-utiliser-la-documentation",
    "href": "cours/geonum/slides_serveurs_carto.html#geoserver---comment-utiliser-la-documentation",
    "title": "Serveurs Cartographiques",
    "section": "GeoServer - Comment utiliser la documentation",
    "text": "GeoServer - Comment utiliser la documentation\nhttps://geoserver.org/"
  },
  {
    "objectID": "cours/geonum/slides_serveurs_carto.html#mise-en-pratique",
    "href": "cours/geonum/slides_serveurs_carto.html#mise-en-pratique",
    "title": "Serveurs Cartographiques",
    "section": "Mise en pratique",
    "text": "Mise en pratique\nPage du TP\n\n\n\n\nFormation WebCarto GeoNum 2024 -2025"
  },
  {
    "objectID": "cours/geonum/slides_introduction.html#intervenante",
    "href": "cours/geonum/slides_introduction.html#intervenante",
    "title": "Formation WebCarto GeoNum 2024-2025",
    "section": "Intervenante",
    "text": "Intervenante\nMarie Gradeler\nâ›°ï¸ Licence de GÃ©ologie\nğŸ¤  Master dâ€™ArchÃ©ologie du Paysage (SIG, tÃ©lÃ©dec, stats)\nğŸ¤· Pas de sous en archÃ©o donc galÃ¨re de trouver du travail\nğŸ—ºï¸ Master GeoNum (arrivÃ©e en M2)\nğŸ’» Stage AgroParisTech dans le cadre du Master : dÃ©veloppement dâ€™une appli de cartographie web\nğŸ’» Contrat de 6 mois au CIRAD pour terminer la production de lâ€™appli carto du stage\nğŸ’» Depuis, je travaille comme consultante IFAD sur le project Land Matrix (crÃ©ation dâ€™indicateurs, stats avec R, beaucoup de dataviz et dÃ©veloppement Web)"
  },
  {
    "objectID": "cours/geonum/slides_introduction.html#les-cours",
    "href": "cours/geonum/slides_introduction.html#les-cours",
    "title": "Formation WebCarto GeoNum 2024-2025",
    "section": "Les cours",
    "text": "Les cours\n\nJeudi 21 Nov : 9h - 12h\nMercredi 27 Nov : 9h - 12h\nJeudi 28 Nov : 9h - 12h\nJeudi 28 Nov : 13h30 - 16h30\n\nOn va beaucoup travailler sur les serveurs cartographiques, notamment GeoServer, mais aussi sur la librairie de cartographie OpenLayers. Cela va nous demander de savoir Ã©crire du code en JavaScript, dâ€™Ãªtre capable dâ€™exÃ©cuter une ou deux lignes de commandes en Bash et de comprendre lâ€™architecture client-serveur du web.\nJe vous recommande dâ€™Ãªtre bien attentifs aux cours de Leaflet (entre autres) qui sont complÃ©mentaires de celui-ci. Si vous connaissez Leaflet, vous connaissez presque dÃ©jÃ  OpenLayers."
  },
  {
    "objectID": "cours/geonum/slides_introduction.html#les-ressources",
    "href": "cours/geonum/slides_introduction.html#les-ressources",
    "title": "Formation WebCarto GeoNum 2024-2025",
    "section": "Les ressources",
    "text": "Les ressources\nğŸ’» Mon site internetÂ : https://gradelerm.github.io\nIl est en cours de construction mais suffit dÃ©jÃ  Ã  hÃ©berger les ressources pour le cours. Vous y trouverez tout le reste !\nMoiÂ : marie.gradeler@gmail.com\nNâ€™hÃ©sitez pas Ã  me contacter. Mes cours sont condensÃ©s sur 2 semaines. Si quelque chose ne va pas, je dois le savoir dÃ¨s la premiÃ¨re sÃ©ance. Je serai aussi disponible pour vous accompagner durant les projets GeoNum si vous avez besoin dâ€™aide sur lâ€™une des notions abordÃ©es en cours."
  },
  {
    "objectID": "cours/geonum/slides_introduction.html#comment-Ã§a-se-passe",
    "href": "cours/geonum/slides_introduction.html#comment-Ã§a-se-passe",
    "title": "Formation WebCarto GeoNum 2024-2025",
    "section": "Comment Ã§a se passe",
    "text": "Comment Ã§a se passe\nOrganisation des cours\n\nPas mal de mise en pratique\nOn mâ€™appelle si on est perdu, je suis lÃ  pour vous aider (ne me laissez pas faire mon cours dans le vide parce que vous avez abandonnÃ© tout espoir de raccrocher les wagons, Ã§a ne sert Ã  rien)\nSi on doit ralentir parce que jâ€™ai trop prÃ©vu de choses techniques, on ralentit et puis câ€™est tout, jâ€™adapterai lâ€™Ã©valuation Ã  ce quâ€™on a eu le temps de voir en cours\nPas dâ€™IA pour Ã©crire le code ! Je donne gÃ©nÃ©ralement les corrigÃ©s dans le TP, vous nâ€™en aurez mÃªme pas besoin. Pour apprendre, le mieux, câ€™est de faire soi-mÃªme, et Ã§a ne mâ€™intÃ©resse pas trop de venir faire cours Ã  Chat-GPT ou Gemini de toute faÃ§on.\nJe sais que câ€™est difficile mais on lÃ¢che son tÃ©lÃ©phone pendant le cours (ou cet onglet mal planquÃ©) et on se concentre sur le cours. WhatsApp et les ouvertures de boosters attendront la pause cafÃ©."
  },
  {
    "objectID": "cours/geonum/slides_introduction.html#Ã©valuation",
    "href": "cours/geonum/slides_introduction.html#Ã©valuation",
    "title": "Formation WebCarto GeoNum 2024-2025",
    "section": "Ã‰valuation",
    "text": "Ã‰valuation\nProjet Ã  rendre basÃ© sur une petite architecture web que je vous fournirai (et qui pourrait Ã©ventuellement servir de base pour une archi de projet GeoNum, je dis Ã§a je dis rienâ€¦). Dans les grandes lignes, ce qui vous sera demandÃ©Â :\nğŸ› ï¸ Publication de couches sur un GeoServer\nğŸ—ºï¸ Lecture des flux WMS sur une petite appli OpenLayers\nğŸ’» DÃ©ploiement (rudimentaire) de votre serveur GeoServer + application OpenLayers en sâ€™appuyant sur lâ€™architecture web fournie\nJe vais recalibrer lâ€™Ã©valuation suivant la vitesse Ã  laquelle on avance et le niveau moyen de la promo en dev. Du coup, vous aurez les consignes pendant le dernier cours."
  },
  {
    "objectID": "cours/geonum/slides_introduction.html#cest-parti",
    "href": "cours/geonum/slides_introduction.html#cest-parti",
    "title": "Formation WebCarto GeoNum 2024-2025",
    "section": "Câ€™est parti !",
    "text": "Câ€™est parti !\nPrÃªts Ã  encore entendre parler de serveurs, clients, requÃªtes, variables et fonctionsÂ ?\n\n\n\n\n\nCourage. Promis, Ã§a va nous permettre de faire des trucs cools qui seront trÃ¨s utiles pour les projets GeoNum et si vous faites de la webcarto ou des IDGs plus tard.\n\n\n\n\nFormation WebCarto GeoNum 2024 -2025"
  },
  {
    "objectID": "cours/geonum/serveurs_carto.html",
    "href": "cours/geonum/serveurs_carto.html",
    "title": "Serveurs cartographiques",
    "section": "",
    "text": "Comprendre ce quâ€™est un serveur cartographique et ce que sont les flux WMS, WFS, etc.\nConnaÃ®tre les principaux serveurs cartographiques avec un focus sur GeoServer, un serveur cartographique Open-Source.\nApprendre Ã  dÃ©ployer une instance de GeoServer Ã  lâ€™aide de Docker.\nPublier des couches avec GeoServer et les styliser en passant par QGIS.\nLire les flux WMS de mon GeoServer dans une application OpenLayers basique.\nÃŠtre capable de dÃ©terminer dans quelles situations on a besoin dâ€™un serveur cartographique.",
    "crumbs": [
      "Serveurs cartographiques"
    ]
  },
  {
    "objectID": "cours/geonum/serveurs_carto.html#objectifs",
    "href": "cours/geonum/serveurs_carto.html#objectifs",
    "title": "Serveurs cartographiques",
    "section": "",
    "text": "Comprendre ce quâ€™est un serveur cartographique et ce que sont les flux WMS, WFS, etc.\nConnaÃ®tre les principaux serveurs cartographiques avec un focus sur GeoServer, un serveur cartographique Open-Source.\nApprendre Ã  dÃ©ployer une instance de GeoServer Ã  lâ€™aide de Docker.\nPublier des couches avec GeoServer et les styliser en passant par QGIS.\nLire les flux WMS de mon GeoServer dans une application OpenLayers basique.\nÃŠtre capable de dÃ©terminer dans quelles situations on a besoin dâ€™un serveur cartographique.",
    "crumbs": [
      "Serveurs cartographiques"
    ]
  },
  {
    "objectID": "cours/geonum/serveurs_carto.html#cours",
    "href": "cours/geonum/serveurs_carto.html#cours",
    "title": "Serveurs cartographiques",
    "section": "Cours",
    "text": "Cours\nSlidesÂ : Serveurs Cartographiques",
    "crumbs": [
      "Serveurs cartographiques"
    ]
  },
  {
    "objectID": "cours/geonum/serveurs_carto.html#tp---prise-en-main-de-geoserver",
    "href": "cours/geonum/serveurs_carto.html#tp---prise-en-main-de-geoserver",
    "title": "Serveurs cartographiques",
    "section": "ï¸TP - Prise en main de GeoServer",
    "text": "ï¸TP - Prise en main de GeoServer\n\nDÃ©ploiement de GeoServer Ã  lâ€™aide de Docker\nDocumentation GeoServer - DÃ©pÃ´t de lâ€™image Docker\n\n\n\n\n\n\nImportant\n\n\n\nCe TP suppose que Docker est installÃ© sur la machine. Il a Ã©tÃ© Ã©crit pour une machine Linux, certains chemins et lignes de commande peuvent donc Ãªtre diffÃ©rents sur une machine Windows ou Mac.\n\n\nUne fois que Docker est installÃ©, lancez la commande suivante pour tÃ©lÃ©charger une image de GeoServer en version 2.26.0Â :\ndocker pull docker.osgeo.org/geoserver:2.26.0\nPuis, pour construire un container Ã  partir de lâ€™image de GeoServerÂ :\ndocker run -it -p 80:8080 docker.osgeo.org/geoserver:2.26.0\nSi vous nâ€™avez pas eu de message dâ€™erreur, rendez-vous sur http://localhost/geoserver et connectez-vous avec lâ€™identifiant admin et le mot de passe geoserver. Si lâ€™authentification a fonctionnÃ©, fÃ©licitations, vous avez rÃ©ussi Ã  faire tourner un container avec GeoServerÂ !\n\n\n\n\n\n\nAttends, attendsâ€¦ des containers, des imagesÂ ? HeinÂ ?\n\n\n\n\n\n\n\n\n\n\nPas de paniqueÂ ! On nâ€™a pas besoin de savoir exactement comment fonctionne Docker pour ce TP. Si on veut simplifierÂ :\n\nDocker permet de faire tourner des services dans des containers crÃ©Ã©s Ã  partir dâ€™images.\nUne image est une recette Ã  suivre pour crÃ©er mon container. Elle demande Ã  Docker de crÃ©er un container basÃ© sur Debian, dâ€™y installer GeoServer ou bien une base PostgreSQL avec lâ€™extension postGIS, etc.\nUn container est le produit dâ€™une image. Câ€™est un peu le plat cuisinÃ© Ã  partir de la recette. Câ€™est Ã  lâ€™intÃ©rieur du container que tourne mon service comme ma base de donnÃ©es ou mon serveur web. On peut connecter plusieurs containers entre eux, pratique si on veut un site web et une base de donnÃ©es qui fonctionnent ensembleÂ !\nUn service est gÃ©nÃ©ralement une base de donnÃ©es (ex. PostgreSQL), un serveur de site web (ex. Apache), un serveur cartographique (ex. GeoServer), etc. Comme les bonnes pratiques demandent dâ€™avoir un seul service par container, on va parler du â€œcontainer GeoServerâ€ pour dire â€œle container qui contient mon service GeoServerâ€, Ã§a va plus vite.\n\nSi ce nâ€™est encore pas clair et que Ã§a vous gÃªne pour la comprÃ©hension de la suite du TP, hop, on lÃ¨ve la main et on demande des explications, je suis lÃ  pour Ã§aÂ ! Et si vous voulez aller plus loin, rendez-vous sur la documentation officelle de Docker.\n\n\n\nPour vÃ©rifier que tout fonctionne, on va faire une petite manip rapide.\n\nEn haut Ã  droite de lâ€™Ã©cran, si ce nâ€™est pas dÃ©jÃ  le cas, sÃ©lectionnez le langage â€œfrâ€ pour passer lâ€™interface en franÃ§ais.\nAllez dans â€œEspaces de travailâ€ (menu Ã  gauche de lâ€™Ã©cran) et cliquez sur le bouton â€œAjouter un nouvel espace de travailâ€.\nAppelez-le â€œmon_espaceâ€ et donnez lui un URI mon_espace.\nVÃ©rfiez quâ€™il apparaÃ®t bien dans la liste de vos espaces (normalement, au-dessus de â€œneâ€).\n\nEnsuite, on va arrÃªter notre container Docker. Commencez par utiliser la commande suivanteÂ :\ndocker ps\nVous devriez voir apparaÃ®tre une ligne avec lâ€™ID de votre container dans la colonne CONTAINER ID, lâ€™image utilisÃ©e pour le construire dans la colonne IMAGE, dâ€™autres informations qui ne nous servent pas dans ce TP et son nom dans la colonne NAME. La commande docker ps permet de lister les containers actifs en ce moment. On souhaite arrÃªter notre container avec la commande docker stop &lt;container_name&gt;. Pour cela, il faut utiliser le nom du container Ã  la place de &lt;container_name&gt;. Par exemple, voici les informations de mon containerÂ :\nCONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS                            PORTS                                     NAMES\n0a885cadf11d   docker.osgeo.org/geoserver:2.26.0   \"bash /opt/startup.sh\"   8 seconds ago   Up 7 seconds (health: starting)   0.0.0.0:80-&gt;8080/tcp, [::]:80-&gt;8080/tcp   charming_pare\nLe nom de mon container est donc charming_pare. Pour arrÃªter mon container, je dois taper la commande suivanteÂ :\ndocker stop charming_pare\n\n\n\n\n\n\nTip\n\n\n\nQuand on tape des lignes de commande en bash, utilisez la touche tab pour auto-complÃ©ter la commande. Par exemple, ici, jâ€™ai seulement tapÃ© docker stop ch puis appuyÃ© sur tab qui a complÃ©tÃ© le nom de mon container. Pratique, nonÂ ? Nâ€™hÃ©sitez pas Ã  en abuser. Si lâ€™auto-complete ne fonctionne pas, câ€™est quâ€™il ne trouve rien OU plusieurs rÃ©sultats. Dans ce cas, continuez Ã  Ã©crire la commande Ã  la main et rÃ©essayez.\n\n\nUtilisez Ã  nouveau la commande docker ps pour vÃ©rifier que ce container nâ€™apparaÃ®t plus dans la liste. Normalement, si vous actualisez la page GeoServer, vous devriez avoir une erreur du type â€œlocalhost refused to connectâ€.\nAlors, câ€™est bien sympa tout Ã§a, mais en lâ€™Ã©tat, on ne va pas pouvoir ajouter de donnÃ©es dans notre container. Il faudrait pouvoir accÃ©der au dossier /data de GeoServer. Heureusement, pour nous simplifier la vie, on peut utiliser Docker pour â€œconnecterâ€ deux dossiers en eux (monter, mount en anglais). Pour Ã§a, il faut crÃ©er sur notre ordinateur un nouveau dossier dans lequel on mettra tout ce quâ€™on veut retrouver dans le /data de notre GeoServer. Promis, câ€™est la derniÃ¨re Ã©tape aussi technique, ensuite je me dÃ©tends et jâ€™arrÃªte de vous faire taper autant de lignes de commande.\n\n\n\n\n\nDâ€™abord, on supprime notre container. On va en crÃ©er un nouveau dans les Ã©tapes suivantes.\ndocker rm &lt;nom_du_container&gt;\nEnsuite, on va crÃ©er un dossier Ã  monter sur le /data de notre container.\n\nAllez dans Documents et crÃ©er un nouveau dossier â€œGeoServerâ€.\nCopiez le chemin ABSOLU vers ce dossier. Par exemple, chez moi (Ubuntu), Ã§a donne Ã§aÂ : /home/marie/Documents/GeoServer\nRemplacez \"/absolute/path/on/host\" dans la commande suivante et copiez-collez la quelque part, on ne sait jamais.\n\ndocker run -it -p 80:8080 --mount src=\"/absolute/path/on/host\",target=/opt/geoserver_data/,type=bind docker.osgeo.org/geoserver:2.26.0\n\nExÃ©cutez la ligne de commande.\n\nMaintenant, on va ajouter notre jeu de donnÃ©es land_matrix_mines Ã  notre dossier /data.\n\nTÃ©lÃ©chargez le jeu de donnÃ©es land_matrix_mines.\nDans lâ€™explorateur de fichiers de votre ordinateur, ouvrez votre dossier GeoServer. Normalement, vous auriez du voir apparaÃ®tre plusieurs nouveaux dossiers. Allez dans /data et crÃ©ez un nouveau dossier geopackage.\nGlissez le fichier land_matrix_mines.gpkg dans le dossier geopackage.\n\n\n\n\n\n\n\nJe ne peux pas crÃ©er de nouveau dossier / dÃ©placer mon fichier !\n\n\n\n\n\nSi vous ne pouvez pas crÃ©er de nouveau dossier, câ€™est que vous ne disposez pas des permissions suffisantes. Dans mon cas (sur Ubuntu), tous les dossiers appartenaient Ã  lâ€™utilisateur et au groupe root. Il faut utiliser la commande chownÂ :\nsudo chown -R &lt;user&gt;:&lt;group&gt; /chemin/vers/mon/dossier\nPour changer les droits de mon dossier `/home/marie/Documents/GeoServer` jâ€™ai donc tapÃ©Â :\nsudo chown -R marie:marie /home/marie/Documents/GeoServer\nSi Ã§a ne fonctionne pas, ne restez pas bloquÃ©s et appelez-moi, on rÃ¨gle Ã§a ensemble.\n\n\n\nCâ€™est bon, Ã§a fonctionneÂ ? ParfaitÂ ! Les rÃ¨gles pour arrÃªter et dÃ©marrer son container restent les mÃªmes. Tout ce quâ€™il faut retenir, câ€™est quâ€™il ne faut pas supprimer ou dÃ©placer votre dossier GeoServer sous peine de tout casser. Pour le reste, tout devrait fonctionner tranquillement.\n\n\n\n\n\n\nRappel des commandes principales\n\n\n\n\n\n# Lister les containers actifs\ndocker ps\n\n# Lister tous les containers, mÃªme arrÃªtÃ©s\ndocker ps -a\n\n# DÃ©marrer mon container\ndocker start &lt;nom_du_container&gt;\n\n# ArrÃªter mon container\ndocker stop &lt;nom_du_container&gt;\n\n# /!\\ Supprimer mon container\ndocker rm &lt;nom_du_container&gt;\n\n\n\nVous avez survÃ©cu au dÃ©ploiement du GeoServer, bien jouÃ©Â ! Prenez un moment pour souffler, allez vous chercher un cafÃ©. La suite sera beaucoup moins prise de tÃªte, câ€™est promisÂ !\n\n\n\n\n\n\n\nEspaces de travail, EntrepÃ´ts et Couches\nCrÃ©er un espace de travail, câ€™est facile, on vient de le faire. Maintenant, on va crÃ©er un nouveau dÃ©pÃ´t par dÃ©faut quâ€™on appellera land_matrix et dans lequel on ajoutera notre geopackage.\n\nAllez dans â€œEspaces de travailâ€ et cliquez sur â€œAjouter un nouvel espace de travailâ€.\nNommez lâ€™espace de travail â€œland_matrixâ€ et donnez lui lâ€™URI â€œland_matrixâ€.\nCochez â€œEspace de travail par dÃ©fautâ€.\nCiquez sur â€œSauvegarderâ€.\n\nSi tout va bien, on voit maintenant notre espace â€œland_matrixâ€ dans la liste. On va pouvoir ajouter un entrepÃ´t de donnÃ©es dans notre espace.\n\nAllez dans â€œEntrepÃ´tsâ€ et cliquez sur â€œAjouter un nouvel entrepÃ´tâ€. Vous allez voir une liste de tous les types dâ€™entrepÃ´ts de donnÃ©es qui peuvent Ãªtre ajoutÃ©s Ã  votre espace de travail, par exempe du GeoPackage, une base PostGIS, un Shapefile ou encore un flux WMS distant.\nSÃ©lectionnez â€œGeoPackageâ€.\nNommez la source de donnÃ©es â€œland_matrix_minesâ€ et ajoutez une petite description, par exemple â€œTransactions miniÃ¨res de la Land Matrix, 2024â€.\nDans â€œParamÃ¨tres de connexionâ€ cliquez sur â€œParcourirâ€¦â€ Ã  droite de â€œdatabase *â€.\nAllez dans data/geopackage/ et cliquez sur le jeu de donnÃ©es land_matrix_mines.gpkg.\nVidez le champ â€œpasswdâ€.\nCliquez sur â€œSauvegarderâ€.\n\nUne fois de retour sur la page â€œEntrepÃ´tsâ€, vous devriez voir votre entrepÃ´t â€œland_matrix_minesâ€ associÃ© Ã  lâ€™espace de travail â€œland_matrixâ€. On avanceÂ ! Maintenant, on veut publier et lire des couches.\n\nAllez dans â€œCouchesâ€ et cliquez sur â€œAjouter une nouvelle coucheâ€.\nSÃ©lectionnez â€œland_matrix:land_matrix_minesâ€. Vous devriez voir apparaÃ®tre une liste de couches.\nCliquez sur â€œPublierâ€ Ã  droite de la couche â€œdealsâ€.\n\nLâ€™onglet de publication de couche permet de configurer la couche et dâ€™y ajouter de la mÃ©tadonnÃ©e. Dans ce TP, on se concentrera sur les informations â€œcrucialesâ€ pour dÃ©finir une couche, mais vous pourrez toujours allez plus loin en utilisant la documentation GeoServer sur les couches.\nLes trois choses Ã  faire absolument Ã  chaque fois dans lâ€™onglet donnÃ©es sontÂ :\n\nRenseigner les informations dans â€œInformations de base sur les donneÃ©sâ€ comme le nom de la couche et un rÃ©sumÃ©. Nâ€™oubliez pas de laisser â€œActivÃ©â€ et â€œPubliÃ©â€ cochÃ©s pour rendre la couche accessible depuis lâ€™extÃ©rieur.\nVÃ©rifier le â€œSystÃ¨me de RÃ©fÃ©rence de CoordonnÃ©es (SRC)â€ qui doit Ãªtre prÃ©-rempli en EPSG:4326 dans notre cas. Il correspond Ã  la projection WGS84 utilisÃ©e dans la grande majoritÃ© des cas en cartographie web.\nDÃ©finir les â€œEmprisesâ€ qui se calculent automatiquement sur GeoServer en cliquant sur â€œCalculer depuis les limites du SRSâ€ et â€œCalculÃ©es sur les emprises nativesâ€.\n\nCliquez ensuite sur â€œAppliquerâ€ pour sauvegarder vos changements et scrollez en haut de la page pour accÃ©der Ã  lâ€™onglet â€œPublicationâ€.\n\nDans â€œParamÃ¨tres de coucheâ€, cochez Interrogeable et vÃ©rifiez que le style par dÃ©faut est bien â€œpointâ€.\n\nCliquez sur â€œSauvegarderâ€. La couche devrait maintenant apparaÃ®tre au sommet du tableau. Cliquez simplement sur le nom de la couche (ici â€œdealsâ€) pour la paramÃ©trer Ã  nouveau si besoin. Pour vÃ©rifier que tout a fonctionnÃ©, on peut prÃ©visualiser la couche directement depuis GeoServer.\n\nAllez dans â€œPrÃ©visualisation de la Coucheâ€ (menu Ã  gauche de lâ€™Ã©cran).\nSur la ligne de la couche â€œdealsâ€, sÃ©lectionnez â€œOpenLayersâ€.\n\nVous devriez voir apparaÃ®tre quelque chose comme Ã§a, avec des informations supplÃ©mentaires si vous cliquez sur des points (possible car notre couche est interrogeable)Â :\n\n\n\n\n\nSi câ€™est bon, bravo, Ã§a a fonctionnÃ© ! Si vous voyez des artefacts autour des points, câ€™est normal. Ce que vous regardez, ce ne sont pas des polygones mais une image produite Ã  partir de notre couche et transmise comme un flux WMS par notre serveur. Lâ€™intÃ©rÃªt, câ€™est quâ€™on peut afficher rapidement des couches trÃ¨s lourdes de cette maniÃ¨re, lÃ  oÃ¹ un GeoJSON commencerait Ã  ramer. Et on peut toujours zoomer et cliquer sur un point pour lâ€™interroger. Câ€™est super pratiqueÂ ! Ce flux WMS est rÃ©cupÃ©rÃ© et lu par une petite appli OpenLayers, câ€™est comme Ã§a que vous Ãªtes capable de voir la couche sur votre page web (vous sentez venir la transition vers les prochains cours, lÃ Â ?).\nBon, super, on a notre couche moche. Maintenant, on en fait quoi de tous ces points rougesÂ ?\n\n\n\n\n\nFacile. On va dâ€™abord la rendre un peu plus belle, puis on va la lire dans notre propre application OpenLayers et commencer Ã  faire des trucs cools avec. Mais avant, comme vous avez tout compris Ã  ce quâ€™on vient de faire, ajoutez toutes les autres couches du geopackage Ã  votre espace de travail. Quand vous avez rÃ©ussi Ã  toutes les prÃ©visualiser (et pleurÃ© devant leur style austÃ¨re), crÃ©ez un nouveau projet QGIS et importez aussi ces couches.\n\n\nStyliser mes couches\nDocumentation GeoServer â€œStylingâ€\nPour le moment, afficher notre couche â€œdealsâ€ va juste donner lâ€™impression que notre carte a attrappÃ© la varicelle. On va commencer par changer son apparence en faisant des points bien ronds et dâ€™une couleur qui crie moins â€œDANGERÂ !!!â€. Pour Ã§a, on va devoir crÃ©er un nouveau style.\n\nAllez dans â€œStylesâ€ et cliquer sur â€œAjouter un nouveau styleâ€.\nNommez le style â€œdealsâ€ et choisissez lâ€™espace de travail â€œland_matrixâ€. Conservez le format SLD, câ€™est le seul disponible sans ajouter dâ€™extensions.\nPour nous aider, GeoServer propose de gÃ©nÃ©rer un SLD par dÃ©faut. SÃ©lectionnez â€œPointâ€ et cliquez sur â€œGÃ©nÃ©rerâ€¦â€. Vous devriez vous retrouver avec un fichier .xml dÃ©crivant la couche.\n\nOn pourrait aller lire en dÃ©tail le SLD Cookbook de GeoServer pour Ã©crire notre fichier manuellement, mais on est plus malins que Ã§a. On a un super outil Ã  disposition qui sâ€™appelle QGIS.\n\nSi vous ne lâ€™avez pas dÃ©jÃ  fait, crÃ©ez un projet QGIS et ajoutez les couches Land Matrix.\nDonnez un style sympa aux points de la couche deals. Jâ€™ai changÃ© la couleur pour les rendre orange.\nAllez dans les propriÃ©tÃ©s de votre couche et dans â€œSymbologieâ€. Tout en bas, choisissez â€œStyleâ€ et â€œEnregistrer le styleâ€¦â€.\nChoisissez lâ€™option â€œEn tant que fichier SLDâ€ et choisissez le chemin et le nom de votre fichier en cliquant sur â€œâ€¦â€ aprÃ¨s â€œFichierâ€. Jâ€™ai appelÃ© le mien â€œdeals.sldâ€\nAllez chercher votre fichier et ouvrez-le avec un Ã©diteur de texte (Notepad, VSCode, peu importe).\nCopiez le contenu.\nRetournez sur votre page GeoServer, supprimez tout le contenu de la zone de texte et collez Ã  la place le contenu de deals.sld. Renommez le contenu de la balise &lt;se:Name&gt; en Deal. VoilÃ  ce que Ã§a donne pour moiÂ :\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;StyledLayerDescriptor xmlns=\"http://www.opengis.net/sld\" xmlns:se=\"http://www.opengis.net/se\" xmlns:ogc=\"http://www.opengis.net/ogc\" xsi:schemaLocation=\"http://www.opengis.net/sld http://schemas.opengis.net/sld/1.1.0/StyledLayerDescriptor.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1.0\"&gt;\n  &lt;NamedLayer&gt;\n    &lt;se:Name&gt;gpkg_land_matrix â€” deals&lt;/se:Name&gt;\n    &lt;UserStyle&gt;\n      &lt;se:Name&gt;gpkg_land_matrix â€” deals&lt;/se:Name&gt;\n      &lt;se:FeatureTypeStyle&gt;\n        &lt;se:Rule&gt;\n          &lt;se:Name&gt;Deal&lt;/se:Name&gt;\n          &lt;se:PointSymbolizer&gt;\n            &lt;se:Graphic&gt;\n              &lt;se:Mark&gt;\n                &lt;se:WellKnownName&gt;circle&lt;/se:WellKnownName&gt;\n                &lt;se:Fill&gt;\n                  &lt;se:SvgParameter name=\"fill\"&gt;#ffd157&lt;/se:SvgParameter&gt;\n                &lt;/se:Fill&gt;\n                &lt;se:Stroke&gt;\n                  &lt;se:SvgParameter name=\"stroke\"&gt;#232323&lt;/se:SvgParameter&gt;\n                  &lt;se:SvgParameter name=\"stroke-width\"&gt;0.5&lt;/se:SvgParameter&gt;\n                &lt;/se:Stroke&gt;\n              &lt;/se:Mark&gt;\n              &lt;se:Size&gt;7&lt;/se:Size&gt;\n            &lt;/se:Graphic&gt;\n          &lt;/se:PointSymbolizer&gt;\n        &lt;/se:Rule&gt;\n      &lt;/se:FeatureTypeStyle&gt;\n    &lt;/UserStyle&gt;\n  &lt;/NamedLayer&gt;\n&lt;/StyledLayerDescriptor&gt;\nVous pouvez prÃ©visualiser la lÃ©gende en cliquant sur â€œAperÃ§u de la lÃ©gendeâ€. Le bouton â€œAjouter une lÃ©gendeâ€ permet quand Ã  lui dâ€™ajouter une image customisÃ©e plutÃ´t quâ€™une gÃ©nÃ©ration automatique. Câ€™est pratique quand on a des lÃ©gendes complexes, mais pas pour le moment. Ensuite, sauvegardez la lÃ©gende quand elle vous convient.\n\n\n\n\n\n\nTip\n\n\n\nUne autre mÃ©thode pour charger le contenu dâ€™un fichier de style .sld est de cliquer sur â€œBrowseâ€ en dessous de â€œFichier de styleâ€. Allez chercher votre fichier .sld et cliquez sur â€œChargerâ€¦â€ pour vous Ã©conomiser quelques copier-coller par la suiteÂ !\n\n\nMaintenant, il faut dire Ã  GeoServer quâ€™on veut utiliser ce style avec notre couche â€œdealsâ€.\n\nAllez dans â€œCouchesâ€.\nSÃ©lectionnez la couche â€œdeals et allez dans lâ€™ongletâ€Publicationâ€.\nDans â€œStyle par dÃ©fautâ€, sÃ©lectionnez â€œland_matrix:dealsâ€ et Sauvegardez.\n\nMaintenant, vous pouvez de nouveau prÃ©visualiser la couche â€œdealsâ€ et voilÃ Â ! Nos points sont ronds et jaunes. Vous savez maintenant crÃ©er un nouveau style SLD depuis QGIS et lâ€™ajouter Ã  une couche dans GeoServerÂ !\n\n\n\n\n\nNormalement, vous commencez Ã  bien comprendre le fonctionnement de GeoServer et la publication des couches. CrÃ©ez un style de couleur unique pour â€œdeals_by_countryâ€ quâ€™on utilisera comme pseudo fond de carte. Ensuite, crÃ©ez un style en cercles proportionnels pour â€œdeals_by_country_centroidâ€ en vous basant sur lâ€™attribut â€œsurface_haâ€.\n\n\n\n\n\n\nAttention Ã  la sÃ©miologie\n\n\n\nJe ne veux pas voir de polygones â€œdeals_by_countryâ€ de diffÃ©rentes couleurs. On nâ€™utilise pas de carte choroplÃ¨the pour reprÃ©senter une valeur absolue, elles servent pour les valeurs relatives ou les catÃ©gories.\n\n\n\n\n\n\n\nUne fois que vous avez au moins ajoutÃ© votre style Ã  â€œdeals_by_countryâ€ dans GeoServer, vous pouvez passer Ã  la suite. Si vous avez un train de retard, cliquez sur les boutons ci-dessous pour dÃ©rouler mes styles et les copier-coller dans votre GeoServer.\n\n\n\n\n\n\nSLD pour â€œdeals_by_countryâ€\n\n\n\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;StyledLayerDescriptor xmlns=\"http://www.opengis.net/sld\" xmlns:se=\"http://www.opengis.net/se\" xmlns:ogc=\"http://www.opengis.net/ogc\" xsi:schemaLocation=\"http://www.opengis.net/sld http://schemas.opengis.net/sld/1.1.0/StyledLayerDescriptor.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1.0\"&gt;\n  &lt;NamedLayer&gt;\n    &lt;se:Name&gt;gpkg_land_matrix â€” deals_by_country&lt;/se:Name&gt;\n    &lt;UserStyle&gt;\n      &lt;se:Name&gt;gpkg_land_matrix â€” deals_by_country&lt;/se:Name&gt;\n      &lt;se:FeatureTypeStyle&gt;\n        &lt;se:Rule&gt;\n          &lt;se:Name&gt;Single symbol&lt;/se:Name&gt;\n          &lt;se:PolygonSymbolizer&gt;\n            &lt;se:Fill&gt;\n              &lt;se:SvgParameter name=\"fill\"&gt;#fdbf6f&lt;/se:SvgParameter&gt;\n              &lt;se:SvgParameter name=\"fill-opacity\"&gt;0.35&lt;/se:SvgParameter&gt;\n            &lt;/se:Fill&gt;\n            &lt;se:Stroke&gt;\n              &lt;se:SvgParameter name=\"stroke\"&gt;#232323&lt;/se:SvgParameter&gt;\n              &lt;se:SvgParameter name=\"stroke-width\"&gt;1&lt;/se:SvgParameter&gt;\n              &lt;se:SvgParameter name=\"stroke-linejoin\"&gt;bevel&lt;/se:SvgParameter&gt;\n            &lt;/se:Stroke&gt;\n          &lt;/se:PolygonSymbolizer&gt;\n        &lt;/se:Rule&gt;\n      &lt;/se:FeatureTypeStyle&gt;\n    &lt;/UserStyle&gt;\n  &lt;/NamedLayer&gt;\n&lt;/StyledLayerDescriptor&gt;\n\n\n\n\n\n\n\n\n\nSLD pour â€œdeals_by_country_centroidâ€\n\n\n\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;StyledLayerDescriptor xmlns=\"http://www.opengis.net/sld\" xmlns:se=\"http://www.opengis.net/se\" xmlns:ogc=\"http://www.opengis.net/ogc\" xsi:schemaLocation=\"http://www.opengis.net/sld http://schemas.opengis.net/sld/1.1.0/StyledLayerDescriptor.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1.0\"&gt;\n  &lt;NamedLayer&gt;\n    &lt;se:Name&gt;gpkg_land_matrix â€” deals_by_country_centroid&lt;/se:Name&gt;\n    &lt;UserStyle&gt;\n      &lt;se:Name&gt;gpkg_land_matrix â€” deals_by_country_centroid&lt;/se:Name&gt;\n      &lt;se:FeatureTypeStyle&gt;\n        &lt;se:Rule&gt;\n          &lt;se:Name&gt;201 - 5466&lt;/se:Name&gt;\n          &lt;se:Description&gt;\n            &lt;se:Title&gt;201 - 5466&lt;/se:Title&gt;\n          &lt;/se:Description&gt;\n          &lt;ogc:Filter xmlns:ogc=\"http://www.opengis.net/ogc\"&gt;\n            &lt;ogc:And&gt;\n              &lt;ogc:PropertyIsGreaterThanOrEqualTo&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;200.81000000000000227&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsGreaterThanOrEqualTo&gt;\n              &lt;ogc:PropertyIsLessThanOrEqualTo&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;5466.3999999999996362&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsLessThanOrEqualTo&gt;\n            &lt;/ogc:And&gt;\n          &lt;/ogc:Filter&gt;\n          &lt;se:PointSymbolizer&gt;\n            &lt;se:Graphic&gt;\n              &lt;se:Mark&gt;\n                &lt;se:WellKnownName&gt;circle&lt;/se:WellKnownName&gt;\n                &lt;se:Fill&gt;\n                  &lt;se:SvgParameter name=\"fill\"&gt;#e5b636&lt;/se:SvgParameter&gt;\n                &lt;/se:Fill&gt;\n                &lt;se:Stroke&gt;\n                  &lt;se:SvgParameter name=\"stroke\"&gt;#232323&lt;/se:SvgParameter&gt;\n                  &lt;se:SvgParameter name=\"stroke-width\"&gt;0.5&lt;/se:SvgParameter&gt;\n                &lt;/se:Stroke&gt;\n              &lt;/se:Mark&gt;\n              &lt;se:Size&gt;4&lt;/se:Size&gt;\n            &lt;/se:Graphic&gt;\n          &lt;/se:PointSymbolizer&gt;\n        &lt;/se:Rule&gt;\n        &lt;se:Rule&gt;\n          &lt;se:Name&gt;5466 - 20413&lt;/se:Name&gt;\n          &lt;se:Description&gt;\n            &lt;se:Title&gt;5466 - 20413&lt;/se:Title&gt;\n          &lt;/se:Description&gt;\n          &lt;ogc:Filter xmlns:ogc=\"http://www.opengis.net/ogc\"&gt;\n            &lt;ogc:And&gt;\n              &lt;ogc:PropertyIsGreaterThan&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;5466.3999999999996362&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsGreaterThan&gt;\n              &lt;ogc:PropertyIsLessThanOrEqualTo&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;20412.80000000001018634&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsLessThanOrEqualTo&gt;\n            &lt;/ogc:And&gt;\n          &lt;/ogc:Filter&gt;\n          &lt;se:PointSymbolizer&gt;\n            &lt;se:Graphic&gt;\n              &lt;se:Mark&gt;\n                &lt;se:WellKnownName&gt;circle&lt;/se:WellKnownName&gt;\n                &lt;se:Fill&gt;\n                  &lt;se:SvgParameter name=\"fill\"&gt;#e5b636&lt;/se:SvgParameter&gt;\n                &lt;/se:Fill&gt;\n                &lt;se:Stroke&gt;\n                  &lt;se:SvgParameter name=\"stroke\"&gt;#232323&lt;/se:SvgParameter&gt;\n                  &lt;se:SvgParameter name=\"stroke-width\"&gt;0.5&lt;/se:SvgParameter&gt;\n                &lt;/se:Stroke&gt;\n              &lt;/se:Mark&gt;\n              &lt;se:Size&gt;10&lt;/se:Size&gt;\n            &lt;/se:Graphic&gt;\n          &lt;/se:PointSymbolizer&gt;\n        &lt;/se:Rule&gt;\n        &lt;se:Rule&gt;\n          &lt;se:Name&gt;20413 - 61376&lt;/se:Name&gt;\n          &lt;se:Description&gt;\n            &lt;se:Title&gt;20413 - 61376&lt;/se:Title&gt;\n          &lt;/se:Description&gt;\n          &lt;ogc:Filter xmlns:ogc=\"http://www.opengis.net/ogc\"&gt;\n            &lt;ogc:And&gt;\n              &lt;ogc:PropertyIsGreaterThan&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;20412.80000000001018634&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsGreaterThan&gt;\n              &lt;ogc:PropertyIsLessThanOrEqualTo&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;61375.88199999996868428&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsLessThanOrEqualTo&gt;\n            &lt;/ogc:And&gt;\n          &lt;/ogc:Filter&gt;\n          &lt;se:PointSymbolizer&gt;\n            &lt;se:Graphic&gt;\n              &lt;se:Mark&gt;\n                &lt;se:WellKnownName&gt;circle&lt;/se:WellKnownName&gt;\n                &lt;se:Fill&gt;\n                  &lt;se:SvgParameter name=\"fill\"&gt;#e5b636&lt;/se:SvgParameter&gt;\n                &lt;/se:Fill&gt;\n                &lt;se:Stroke&gt;\n                  &lt;se:SvgParameter name=\"stroke\"&gt;#232323&lt;/se:SvgParameter&gt;\n                  &lt;se:SvgParameter name=\"stroke-width\"&gt;0.5&lt;/se:SvgParameter&gt;\n                &lt;/se:Stroke&gt;\n              &lt;/se:Mark&gt;\n              &lt;se:Size&gt;16&lt;/se:Size&gt;\n            &lt;/se:Graphic&gt;\n          &lt;/se:PointSymbolizer&gt;\n        &lt;/se:Rule&gt;\n        &lt;se:Rule&gt;\n          &lt;se:Name&gt;61376 - 160220&lt;/se:Name&gt;\n          &lt;se:Description&gt;\n            &lt;se:Title&gt;61376 - 160220&lt;/se:Title&gt;\n          &lt;/se:Description&gt;\n          &lt;ogc:Filter xmlns:ogc=\"http://www.opengis.net/ogc\"&gt;\n            &lt;ogc:And&gt;\n              &lt;ogc:PropertyIsGreaterThan&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;61375.88199999996868428&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsGreaterThan&gt;\n              &lt;ogc:PropertyIsLessThanOrEqualTo&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;160220.00000000005820766&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsLessThanOrEqualTo&gt;\n            &lt;/ogc:And&gt;\n          &lt;/ogc:Filter&gt;\n          &lt;se:PointSymbolizer&gt;\n            &lt;se:Graphic&gt;\n              &lt;se:Mark&gt;\n                &lt;se:WellKnownName&gt;circle&lt;/se:WellKnownName&gt;\n                &lt;se:Fill&gt;\n                  &lt;se:SvgParameter name=\"fill\"&gt;#e5b636&lt;/se:SvgParameter&gt;\n                &lt;/se:Fill&gt;\n                &lt;se:Stroke&gt;\n                  &lt;se:SvgParameter name=\"stroke\"&gt;#232323&lt;/se:SvgParameter&gt;\n                  &lt;se:SvgParameter name=\"stroke-width\"&gt;0.5&lt;/se:SvgParameter&gt;\n                &lt;/se:Stroke&gt;\n              &lt;/se:Mark&gt;\n              &lt;se:Size&gt;22&lt;/se:Size&gt;\n            &lt;/se:Graphic&gt;\n          &lt;/se:PointSymbolizer&gt;\n        &lt;/se:Rule&gt;\n        &lt;se:Rule&gt;\n          &lt;se:Name&gt;160220 - 1509612&lt;/se:Name&gt;\n          &lt;se:Description&gt;\n            &lt;se:Title&gt;160220 - 1509612&lt;/se:Title&gt;\n          &lt;/se:Description&gt;\n          &lt;ogc:Filter xmlns:ogc=\"http://www.opengis.net/ogc\"&gt;\n            &lt;ogc:And&gt;\n              &lt;ogc:PropertyIsGreaterThan&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;160220.00000000005820766&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsGreaterThan&gt;\n              &lt;ogc:PropertyIsLessThanOrEqualTo&gt;\n                &lt;ogc:PropertyName&gt;suface_ha&lt;/ogc:PropertyName&gt;\n                &lt;ogc:Literal&gt;1509612&lt;/ogc:Literal&gt;\n              &lt;/ogc:PropertyIsLessThanOrEqualTo&gt;\n            &lt;/ogc:And&gt;\n          &lt;/ogc:Filter&gt;\n          &lt;se:PointSymbolizer&gt;\n            &lt;se:Graphic&gt;\n              &lt;se:Mark&gt;\n                &lt;se:WellKnownName&gt;circle&lt;/se:WellKnownName&gt;\n                &lt;se:Fill&gt;\n                  &lt;se:SvgParameter name=\"fill\"&gt;#e5b636&lt;/se:SvgParameter&gt;\n                &lt;/se:Fill&gt;\n                &lt;se:Stroke&gt;\n                  &lt;se:SvgParameter name=\"stroke\"&gt;#232323&lt;/se:SvgParameter&gt;\n                  &lt;se:SvgParameter name=\"stroke-width\"&gt;0.5&lt;/se:SvgParameter&gt;\n                &lt;/se:Stroke&gt;\n              &lt;/se:Mark&gt;\n              &lt;se:Size&gt;29&lt;/se:Size&gt;\n            &lt;/se:Graphic&gt;\n          &lt;/se:PointSymbolizer&gt;\n        &lt;/se:Rule&gt;\n      &lt;/se:FeatureTypeStyle&gt;\n    &lt;/UserStyle&gt;\n  &lt;/NamedLayer&gt;\n&lt;/StyledLayerDescriptor&gt;\n\n\n\n\n\nLire mes flux dans une autre application\nCourage, on touche au but. Vous aurez bientÃ´t fait le tour du fonctionnement basique de GeoServer. Maintenant quâ€™on a nos couches, on veut pouvoir les lire.\nPour commencer, on va rapidement vÃ©rifier quâ€™on communique bien avec notre GeoServer en utilisant QGIS et la requÃªte GetCapabilities du serveur. Cette requÃªte, lorsquâ€™elle rÃ©ussit, nous rÃ©pond avec un fichier .xml qui explique Ã  QGIS tout ce que le serveur est capable de faire, et notamment quelles couches peuvent Ãªtre affichÃ©es.\n\nDans QGIS, cliquez sur â€œAjouter une coucheâ€ et sÃ©lectionnez â€œWMSâ€.\nDans lâ€™onglet â€œCouchesâ€, cliquez sur â€œNouveauâ€.\nAppelez la connexion â€œmon_geoserverâ€ et collez lâ€™url GetCapabilities dans â€œURLâ€. Elle devrait Ãªtre identique Ã  celle-ciÂ :\n\nhttp://localhost/geoserver/land_matrix/wms?service=WMS&version=1.1.0&request=GetCapabilities\n\n\n\n\n\n\nÃ‡a ne fonctionne pasÂ !\n\n\n\n\n\nPour vÃ©rifier que votre requÃªte est bonne, allez dans GeoServer, affichez nâ€™importe quelle couche en prÃ©visualisation et copiez lâ€™adresse.\nhttp://localhost/geoserver/land_matrix/wms?service=WMS&version=1.1.0&request=GetMap&layers=land_matrix%3Adeals&bbox=-180.0%2C-90.0%2C180.0%2C90.0&width=768&height=384&srs=EPSG%3A4326&styles=&format=application/openlayers\nSupprimez tout ce qui se trouve aprÃ¨s â€œrequest=â€ et ajoutez â€œGetCapabilitiesâ€.\nhttp://localhost/geoserver/land_matrix/wms?service=WMS&version=1.1.0&request=GetCapabilities\n\n\n\n\nCliquez ensuite sur â€œConnexionâ€ et vÃ©rifiez quâ€™une liste de couche apparaÃ®t et quâ€™elle contient bien vos couches â€œdealsâ€, etc.\n\nVous pouvez afficher la couche dans QGIS avec â€œAddâ€ si vous le souhaitez. Lâ€™essentiel, câ€™est quâ€™on a vÃ©rifier que notre serveur Ã©met bien des flux WMS pour nos couches et quâ€™on peut bien les lire. On va maintenant faire la mÃªme chose dans une application OpenLayers. Comme on nâ€™a pas encore commencÃ© les cours, je vous donne le code. Vous verrez, Ã§a ressemble beaucoup Ã  Leaflet. Dans le dossier de votre choix, crÃ©ez un document index.html et collez le contenu suivantÂ :\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;GeoServer + OpenLayers&lt;/title&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\n\n        &lt;!-- CSS --&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@main/dist/en/v7.1.0/ol/ol.css\" /&gt;\n        &lt;style&gt;\n        #map {\n            height: 500px;\n            width: 800px;\n        }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;GeoServer + OpenLayers&lt;/h1&gt;\n\n        &lt;div id=\"map\"&gt;&lt;/div&gt;\n\n        &lt;!-- OpenLayers JS--&gt;\n        &lt;script src=\"https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@main/dist/en/v7.1.0/ol/dist/ol.js\"&gt;&lt;/script&gt;\n\n        &lt;!-- App code --&gt;\n        &lt;script&gt;\n            // OSM layer and source\n            var source_osm = new ol.source.OSM()\n            var layer_osm = new ol.layer.Tile({ source: source_osm })\n\n            // GeoServer layer and source\n\n            // Map\n            var map = new ol.Map({\n                target: 'map',\n                layers: [ layer_osm ],\n                view: new ol.View({\n                center: ol.proj.fromLonLat([2.1833, 41.3833]),\n                zoom: 2\n                })\n            });\n        &lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\nDouble-cliquez sur index.html pour lâ€™ouvrir dans le navigateur. Vous devriez voir apparaÃ®tre une carte avec un fond OSM. On va ajouter nos couches GeoServer Ã  cette carte.\n\n\n\n\n\nSous la section commentÃ©e â€œGeoServer Layer and sourceâ€, ajoutez les lignes suivantes :\nvar url_geoserver = 'http://localhost/geoserver/land_matrix/wms'\nvar source_geoserver = new ol.source.ImageWMS({\n    url: url_geoserver,\n    params: {'LAYERS': 'land_matrix:deals'},\n    serverType: 'geoserver',\n})\nvar layer_geoserver = new ol.layer.Image({ source: source_geoserver })\nEt ajoutez layer_geoserver Ã  la liste de couches de mapÂ :\n// Map\nvar map = new ol.Map({\n    target: 'map',\n    layers: [ layer_osm, layer_geoserver ],\n    view: new ol.View({\n    center: ol.proj.fromLonLat([2.1833, 41.3833]),\n    zoom: 2\n    })\n});\nActualisez la carte. Vous devriez maintenant voir apparaÃ®tre la couche â€œdealsâ€ de lâ€™entrepÃ´t â€œland_matrixâ€Â ! DÃ©cortiquons rapidement ces lignes de code.\nvar url_geoserver = 'http://localhost/geoserver/land_matrix/wms'\nOn rÃ©cupÃ¨re lâ€™url de notre serveur. Si vous ne la trouvez pas, allez dans votre GeoServer et prÃ©visualisez nâ€™importe quelle couche. RÃ©cupÃ©rez lâ€™url et coupez tout aprÃ¨s â€œwmsâ€. land_matrix est lâ€™URI que nous avons donnÃ© Ã  notre espace de travail (voir la section Espaces de travail du TP).\nvar source_geoserver = new ol.source.ImageWMS({\n    url: url_geoserver,\n    params: {'LAYERS': 'land_matrix:deals'},\n    serverType: 'geoserver',\n})\nOn crÃ©e ensuite une nouvelle source de donnÃ©es de type ImageWMS. On indique lâ€™url de la source, Ã  savoir lâ€™url de notre espace de donnÃ©es GeoServer stockÃ© dans la variable url_geoserver. Lâ€™image prend aussi un ou plusieurs paramÃ¨tres. On indique dans â€˜LAYERSâ€™ la couche quâ€™on souhaite afficher. Celle ligne sâ€™Ã©crit toujours sous la formeÂ :\n'LAYERS' : '&lt;entrepÃ´t&gt;:&lt;couche&gt;'\nSi vous avez un doute, allez dans â€œPrÃ©visualisation de la coucheâ€ et regardez le contenu de la colonne â€œNomâ€. Câ€™est la valeur Ã  donner Ã  â€˜LAYERSâ€™.\nEnfin, on renseigne le type du serveur, ici â€˜geoserverâ€™. Ce paramÃ¨tre permet Ã  OpenLayers de communiquer plus facilement avec GeoServer lorsque vous utiliserez des fonctionnalitÃ©s plus avancÃ©es. De maniÃ¨re gÃ©nÃ©rale, cela vous permet aussi de vous souvenir du type de serveur avec lequel vous communiquez.\nChouette, aprÃ¨s tout Ã§a on a enfin rÃ©ussi Ã  crÃ©er, lire et afficher un flux WMSÂ ! Sauf que, il manque encore quelque choseâ€¦ la lÃ©gendeÂ ! Et lÃ  vous me dites â€œpitiÃ©, jâ€™en peux plus, jâ€™ai la tÃªte qui va exploserâ€. Allez, encore un petit effort. On a vu que GeoServer est capable de gÃ©nÃ©rer tout seul une lÃ©gende, il nous suffit donc de la rÃ©cupÃ©rer. Pour Ã§a, rien de plus facileÂ ! Le serveur distribue les images comme il distribue les couches de donnÃ©es. Il nous suffit de rÃ©cupÃ©rer lâ€™image en question et lâ€™afficher dans une nouvelle &lt;div&gt; sur notre carte.\nOn reviendra en dÃ©tail sur le fonctionnement des lÃ©gendes dans le TP sur OpenLayers. Commencez par crÃ©er une &lt;div&gt; pour la lÃ©gende sous &lt;div id=\"map\"&gt;&lt;/div&gt; :\n&lt;div id=\"map\"&gt;&lt;/div&gt;\n&lt;div&gt;&lt;img id=\"legend\" /&gt;&lt;/div&gt;\nNotre script permettra de modifier la source de lâ€™image legend en interrogeant GeoServer Ã  chaque fois quâ€™on fera changer la rÃ©solution de la carte. Dans le tag &lt;script&gt;, en dessous du code de la carte â€œMapâ€, ajoutez les lignes suivantes :\n&lt;!-- App code --&gt;\n&lt;script&gt;\n    //â€¦\n\n    // Function to update the legend    \n    function updateLegend(resolution) {\n        const graphicUrl = source_geoserver.getLegendUrl(resolution, { 'LEGEND_OPTIONS' : 'forceLabels:on' });\n        const img = document.getElementById('legend');\n        img.src = graphicUrl;\n    };\n\n    // Initial legend\n    const resolution = map.getView().getResolution();\n    updateLegend(resolution);\n\n    // Update legend when resolution changes\n    map.getView().on('change:resolution', function (event) {\n        const resolution = event.target.getResolution();\n        updateLegend(resolution);\n    });\n\n&lt;/script&gt;\nEn rÃ©sumÃ©Â :\n\nLa fonction updateLegend() permet de rÃ©cupÃ©rer lâ€™url de la lÃ©gende depuis notre source GeoServer source_geoserver en utilisant la mÃ©thode getLegendUrl(). On modifie ensuite la source de notre image &lt;img id=\"legend\" /&gt; sur lâ€™url de la lÃ©gende.\nLa fonction getLegendUrl() a besoin de connaÃ®tre la rÃ©solution de la carte pour fonctionner.\nLorsque la carte est crÃ©Ã©e pour la premiÃ¨re fois, on stocke sa rÃ©solution dans la variable resolution. La mÃ©thode getView() de lâ€™objet map permet de rÃ©cupÃ©rer la valeur de cette rÃ©solution. Ensuite, on exÃ©cute notre fonction updateLegend() pour rÃ©cupÃ©rer la lÃ©gende une premiÃ¨re fois.\nPour mettre Ã  jour la lÃ©gende lorsque la rÃ©solution change, on Ã©coute les Ã©vÃ¨nements change:resolution de la map. Ã€ chaque fois que la rÃ©solution change, on va rÃ©cupÃ©rer Ã  nouveau cette rÃ©solution et exÃ©cuter la fonction updateLegend().\n\n\n\n\n\n\n\nCode complet de lâ€™application\n\n\n\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;GeoServer + OpenLayers&lt;/title&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\n\n        &lt;!-- CSS --&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@main/dist/en/v7.1.0/ol/ol.css\" /&gt;\n        &lt;style&gt;\n        #map {\n            height: 500px;\n            width: 800px;\n        }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;GeoServer + OpenLayers&lt;/h1&gt;\n\n        &lt;div id=\"map\"&gt;&lt;/div&gt;\n        &lt;div&gt;&lt;img id=\"legend\" /&gt;&lt;/div&gt;\n\n        &lt;!-- OpenLayers JS--&gt;\n        &lt;script src=\"https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@main/dist/en/v7.1.0/ol/dist/ol.js\"&gt;&lt;/script&gt;\n\n        &lt;!-- App code --&gt;\n        &lt;script&gt;\n            // OSM layer and source\n            var source_osm = new ol.source.OSM()\n            var layer_osm = new ol.layer.Tile({ source: source_osm })\n\n            // GeoServer layer and source\n            var url_geoserver = 'http://localhost/geoserver/land_matrix/wms'\n            var source_geoserver = new ol.source.ImageWMS({\n                url: url_geoserver,\n                params: {'LAYERS': 'land_matrix:deals'},\n                serverType: 'geoserver',\n            })\n            var layer_geoserver = new ol.layer.Image({ source: source_geoserver })\n\n            // Map\n            var map = new ol.Map({\n                target: 'map',\n                layers: [ layer_osm, layer_geoserver ],\n                view: new ol.View({\n                center: ol.proj.fromLonLat([2.1833, 41.3833]),\n                zoom: 2\n                })\n            });\n\n            // Function to update the legend    \n            function updateLegend(resolution) {\n                const graphicUrl = source_geoserver.getLegendUrl(resolution, { 'LEGEND_OPTIONS' : 'forceLabels:on' });\n                const img = document.getElementById('legend');\n                img.src = graphicUrl;\n            };\n\n            // Initial legend\n            const resolution = map.getView().getResolution();\n            updateLegend(resolution);\n\n            // Update legend when resolution changes\n            map.getView().on('change:resolution', function (event) {\n                const resolution = event.target.getResolution();\n                updateLegend(resolution);\n            });\n\n        &lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n\n\n\nOufÂ ! On a enfin une lÃ©gende. Pour ceux qui ont encore le temps et lâ€™Ã©nergie, je vous propose dâ€™afficher les autres couches et leur lÃ©gende sur la carte, au moins â€œdeals_by_country_centroidsâ€ pour avoir nos cercles proportionnels. Câ€™est partiÂ !",
    "crumbs": [
      "Serveurs cartographiques"
    ]
  },
  {
    "objectID": "cours/geonum/serveurs_carto.html#conclusions",
    "href": "cours/geonum/serveurs_carto.html#conclusions",
    "title": "Serveurs cartographiques",
    "section": "Conclusion(s)",
    "text": "Conclusion(s)\n\nCâ€™est quoi lâ€™intÃ©rÃªt du serveur carto, dÃ©jÃ Â ?\n\nCentralisation de la donnÃ©e et mise Ã  jour\nDistribution de la donnÃ©e\nGestion des droits\nBien quand on a une organisation et bcp de donnÃ©es, sâ€™intÃ¨gre trÃ¨s bien dans une IDG\nBien pour les couches Raster et les couches Vecteur lourdes qui peuvent Ãªtre servies en tant quâ€™images (WMS)\nConnexion directe Ã  une base de donnÃ©es PostgreSQL\nPossibilitÃ© dâ€™Ã©crire des requÃªtes SQL pour former les couches\nPossibilitÃ© de crÃ©er des styles complexes â€œÃ  la QGISâ€.\n\nEst-ce que jâ€™en ai besoin pour mon projet GeoNumÂ ?\n\nÃ‡a dÃ©pend des donnÃ©es que vous utilisez et ce que vous en faites. Le mieux câ€™est dâ€™en discuter avec les profsÂ !\n\nJe nâ€™utilise pas de connexion Ã  une base de donnÃ©es, je prÃ©fÃ¨re juste afficher des couches avec un style complexe. Ce serait pas plus simple si on pouvait directement importer les couches dâ€™un projet QGISÂ ?",
    "crumbs": [
      "Serveurs cartographiques"
    ]
  },
  {
    "objectID": "cours/geonum/serveurs_carto.html#tp---qgis-server-avec-lizmap",
    "href": "cours/geonum/serveurs_carto.html#tp---qgis-server-avec-lizmap",
    "title": "Serveurs cartographiques",
    "section": "TP - QGIS Server avec LizMap",
    "text": "TP - QGIS Server avec LizMap\nEn cours de rÃ©daction, revenez plus tardÂ !",
    "crumbs": [
      "Serveurs cartographiques"
    ]
  },
  {
    "objectID": "cours/geonum/introduction.html",
    "href": "cours/geonum/introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "SlidesÂ : Introduction",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "cours/geonum/archi_web.html",
    "href": "cours/geonum/archi_web.html",
    "title": "Architecture web",
    "section": "",
    "text": "Comprendre le fonctionnement dâ€™une architecture web classique, la notion de client et de serveur et le fonctionnement dâ€™une requÃªte.\nComprendre la notion de dockerisation et Ãªtre capable de dÃ©marrer des containers avec Docker.\nDÃ©couvrir Docker Compose, un service de Docker pour articuler facilement plusieurs containers entre eux, et savoir faire tourner lâ€™architecture web OpenLayers (Node JS) + GeoServer fournie.",
    "crumbs": [
      "Architecture web"
    ]
  },
  {
    "objectID": "cours/geonum/archi_web.html#objectifs",
    "href": "cours/geonum/archi_web.html#objectifs",
    "title": "Architecture web",
    "section": "",
    "text": "Comprendre le fonctionnement dâ€™une architecture web classique, la notion de client et de serveur et le fonctionnement dâ€™une requÃªte.\nComprendre la notion de dockerisation et Ãªtre capable de dÃ©marrer des containers avec Docker.\nDÃ©couvrir Docker Compose, un service de Docker pour articuler facilement plusieurs containers entre eux, et savoir faire tourner lâ€™architecture web OpenLayers (Node JS) + GeoServer fournie.",
    "crumbs": [
      "Architecture web"
    ]
  },
  {
    "objectID": "cours/geonum/archi_web.html#cours",
    "href": "cours/geonum/archi_web.html#cours",
    "title": "Architecture web",
    "section": "Cours",
    "text": "Cours\nEn cours de rÃ©dactionâ€¦",
    "crumbs": [
      "Architecture web"
    ]
  },
  {
    "objectID": "cours/geonum/archi_web.html#tp---architecture-de-webcarto-avec-docker",
    "href": "cours/geonum/archi_web.html#tp---architecture-de-webcarto-avec-docker",
    "title": "Architecture web",
    "section": "TP - Architecture de webcarto avec Docker",
    "text": "TP - Architecture de webcarto avec Docker\nEn cours de rÃ©dactionâ€¦",
    "crumbs": [
      "Architecture web"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Accueil",
    "section": "",
    "text": "Bienvenue sur mon site en cours de construction. Si vous avez trouvÃ© cette page, vous Ãªtes sÃ»rement un Ã©tudiant en master GeoNum. Les ressources pour les TD, câ€™est par iciÂ !"
  }
]